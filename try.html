<!DOCTYPE html>
<html>

<head>
    <title>Request Location Permission</title>
</head>

<body>
    <h2>üìç Getting your location...</h2>
    <pre id="output">Waiting for location permission...</pre>

    <script>
        // Prompt user for location
        function requestLocation() {
            if (!navigator.geolocation) {
                document.getElementById("output").textContent = "Geolocation is not supported by your browser.";
                return;
            }

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    document.getElementById("output").textContent =
                        "Lat: " + position.coords.latitude + "\n" +
                        "Lng: " + position.coords.longitude + "\n" +
                        "Accuracy: " + position.coords.accuracy + " meters";
                },
                (error) => {
                    let message = "Error: ";
                    switch (error.code) {
                        case error.PERMISSION_DENIED:
                            message += "User denied the request for Geolocation.";
                            break;
                        case error.POSITION_UNAVAILABLE:
                            message += "Location information is unavailable.";
                            break;
                        case error.TIMEOUT:
                            message += "The request to get user location timed out.";
                            break;
                        default:
                            message += "An unknown error occurred.";
                            break;
                    }
                    document.getElementById("output").textContent = message;
                    alert(message + "\n\nPlease allow location permission in your phone's settings.");
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        // Auto-call on load
        window.onload = requestLocation;
    </script>
</body>

</html>